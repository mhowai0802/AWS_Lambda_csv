{"ast":null,"code":"var _jsxFileName = \"/Users/waiwai/Desktop/Github/Einstein/testing/src/System.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport fileDownload from 'js-file-download';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function System() {\n  _s();\n\n  const [device, setdevice] = useState('0');\n  const [interval, setinternval] = useState('N/A');\n  const [number, setnumber] = useState('0');\n  const [systemlist, setsystem] = useState([{}]);\n  const hourlist = [];\n\n  for (let i = 1; i < 24; i++) {\n    hourlist.push({\n      id: i,\n      hour: i\n    });\n  }\n\n  useEffect(() => {\n    axios({\n      method: 'get',\n      url: ' https://f3bzwuya7a444klvzuesn2ihje0ipkjr.lambda-url.ap-east-1.on.aws/',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      setsystem(res.data);\n    });\n    console.log(systemlist);\n  }, []);\n\n  function handleChange(event) {\n    setdevice(event.target.value);\n    console.log(event.target.value);\n  }\n\n  function handleChange_02(event) {\n    setnumber(event.target.value);\n    console.log(event.target.value);\n  }\n\n  function handleChange_03(event) {\n    setinternval(event.target.value);\n    console.log(event.target.value);\n  }\n\n  function handleSubmit(event) {\n    let text = number + \" \" + interval;\n    axios({\n      method: 'get',\n      url: ' https://coqaxw2nncra5xh6fmxhgsn4la0gnjbu.lambda-url.ap-east-1.on.aws/',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      params: {\n        \"function_name\": \"from_now\",\n        \"device_id\": device,\n        \"date_range\": text\n      }\n    }).then(res => {\n      fileDownload(res.data, 'testing.csv');\n    }).catch(error => {\n      console.error(error);\n    }).finally(() => {});\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Device ID \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"system\",\n      id: \"selectList\",\n      value: device,\n      onChange: handleChange,\n      children: systemlist.map(system => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: system.id,\n        children: system.name\n      }, system.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 10\n    }, this), interval == 'HOUR' && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Time from now \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"number\",\n        id: \"selectList\",\n        value: number,\n        onChange: handleChange_02,\n        children: hourlist.map(hour => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: hour.hour,\n          children: hour.hour\n        }, hour.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"interval\",\n      id: \"selectList\",\n      value: interval,\n      onChange: handleChange_03,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"MINUTE\",\n        children: \"Minute\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"HOUR\",\n        children: \"Hour\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"DAY\",\n        children: \"Day\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: \"Download csv\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(System, \"tm5FTZUyhYfS4YfdF+LG9aMtlHo=\");\n\n_c = System;\n\nvar _c;\n\n$RefreshReg$(_c, \"System\");","map":{"version":3,"names":["React","useEffect","useState","axios","fileDownload","System","device","setdevice","interval","setinternval","number","setnumber","systemlist","setsystem","hourlist","i","push","id","hour","method","url","headers","then","res","data","console","log","handleChange","event","target","value","handleChange_02","handleChange_03","handleSubmit","text","params","catch","error","finally","map","system","name"],"sources":["/Users/waiwai/Desktop/Github/Einstein/testing/src/System.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport axios from 'axios'\nimport fileDownload from 'js-file-download'\n\nexport default function System() {\n\n\nconst [device,setdevice] = useState('0')\nconst [interval,setinternval] = useState('N/A')\nconst [number,setnumber] = useState('0')\nconst [systemlist, setsystem] = useState([{}])\n\nconst hourlist = []\nfor (let i = 1; i < 24; i++) {\n  hourlist.push({\n      id: i,\n      hour: i\n  });\n}\n\nuseEffect ( ()=>{\n    axios({ \n        method: 'get' , \n        url: ' https://f3bzwuya7a444klvzuesn2ihje0ipkjr.lambda-url.ap-east-1.on.aws/', \n        headers: {\"Content-Type\": \"application/json\"}\n        }) \n    .then((res) => {setsystem(res.data)})\n    console.log(systemlist)\n  },[])\n\nfunction handleChange(event){\n    setdevice(event.target.value)\n    console.log(event.target.value)\n}\nfunction handleChange_02(event){\n    setnumber(event.target.value)\n    console.log(event.target.value)\n}\nfunction handleChange_03(event){\n    setinternval(event.target.value)\n    console.log(event.target.value)\n}\nfunction handleSubmit(event){\n    let text = number + \" \" + interval\n\n    axios({ \n        method: 'get' , \n        url: ' https://coqaxw2nncra5xh6fmxhgsn4la0gnjbu.lambda-url.ap-east-1.on.aws/', \n        headers: {\"Content-Type\": \"application/json\"},\n        params: {\n            \"function_name\" : \"from_now\",\n            \"device_id\": device,\n            \"date_range\": text\n          }\n       }) \n    .then((res) => {fileDownload(res.data, 'testing.csv')})\n    .catch((error) => { console.error(error) })\n    .finally(() => { })\n}\n\n  return (\n    \n    <div>\n    Device ID <br/>\n    <select name=\"system\" id=\"selectList\" value={device} onChange={handleChange}>\n    {\n    systemlist.map(system =>(\n          <option key={system.id} value={system.id}>{system.name}</option>\n    ))}\n    </select> \n    <br/><br/>\n{   interval == 'HOUR' &&\n    <div>\n    Time from now <br/>\n    <select name=\"number\" id=\"selectList\" value={number} onChange={handleChange_02}>\n    { hourlist.map(hour =>(\n          <option key={hour.id} value={hour.hour}>{hour.hour}</option>\n    ))}\n    </select>\n    </div>\n}\n    <select name=\"interval\" id=\"selectList\" value={interval} onChange={handleChange_03}>\n          <option value=\"MINUTE\">Minute</option>\n          <option value=\"HOUR\">Hour</option>\n          <option value=\"DAY\">Day</option>\n    </select>\n    <br/>\n    <br/>\n    <button onClick={handleSubmit}>Download csv</button> \n\n    </div>\n  )\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}