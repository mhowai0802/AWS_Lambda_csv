{"ast":null,"code":"import _slicedToArray from\"/Users/waiwai/Desktop/Github/Einstein/testing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import fileDownload from'js-file-download';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function System(){var _useState=useState('0'),_useState2=_slicedToArray(_useState,2),device=_useState2[0],setdevice=_useState2[1];var _useState3=useState('N/A'),_useState4=_slicedToArray(_useState3,2),interval=_useState4[0],setinternval=_useState4[1];var _useState5=useState('0'),_useState6=_slicedToArray(_useState5,2),number=_useState6[0],setnumber=_useState6[1];var _useState7=useState([{}]),_useState8=_slicedToArray(_useState7,2),systemlist=_useState8[0],setsystem=_useState8[1];var daylist=[];for(var i=1;i<30;i++){daylist.push({id:i,day:i});}var hourlist=[];for(var _i=1;_i<24;_i++){hourlist.push({id:_i,hour:_i});}var minutelist=[];for(var _i2=1;_i2<60;_i2++){minutelist.push({id:_i2,minute:_i2});}useEffect(function(){axios({method:'get',url:' https://f3bzwuya7a444klvzuesn2ihje0ipkjr.lambda-url.ap-east-1.on.aws/',headers:{\"Content-Type\":\"application/json\"}}).then(function(res){setsystem(res.data);});console.log(systemlist);},[]);function handleChange(event){setdevice(event.target.value);console.log(event.target.value);}function handleChange_02(event){setnumber(event.target.value);console.log(event.target.value);}function handleChange_03(event){setinternval(event.target.value);console.log(event.target.value);}function handleSubmit(event){var text=number+\" \"+interval;axios({method:'get',url:' https://coqaxw2nncra5xh6fmxhgsn4la0gnjbu.lambda-url.ap-east-1.on.aws/',headers:{\"Content-Type\":\"application/json\"},params:{\"function_name\":\"from_now\",\"device_id\":device,\"date_range\":text}}).then(function(res){fileDownload(res.data,'testing.csv');}).catch(function(error){console.error(error);}).finally(function(){});}return/*#__PURE__*/_jsxs(\"div\",{children:[\"Device ID \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"select\",{name:\"system\",id:\"selectList\",value:device,onChange:handleChange,children:systemlist.map(function(system){return/*#__PURE__*/_jsx(\"option\",{value:system.id,children:system.name},system.id);})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Time from now \",/*#__PURE__*/_jsx(\"br\",{}),interval=='HOUR'&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{name:\"number\",id:\"selectList\",value:number,onChange:handleChange_02,children:hourlist.map(function(time){return/*#__PURE__*/_jsx(\"option\",{value:time.hour,children:time.hour},time.id);})})}),interval=='MINUTE'&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{name:\"number\",id:\"selectList\",value:number,onChange:handleChange_02,children:minutelist.map(function(time){return/*#__PURE__*/_jsx(\"option\",{value:time.minute,children:time.minute},time.id);})})}),interval=='DAY'&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{name:\"number\",id:\"selectList\",value:number,onChange:handleChange_02,children:daylist.map(function(time){return/*#__PURE__*/_jsx(\"option\",{value:time.day,children:time.day},time.id);})})}),/*#__PURE__*/_jsxs(\"select\",{name:\"interval\",id:\"selectList\",value:interval,onChange:handleChange_03,children:[/*#__PURE__*/_jsx(\"option\",{value:\"MINUTE\",children:\"Minute\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HOUR\",children:\"Hour\"}),/*#__PURE__*/_jsx(\"option\",{value:\"DAY\",children:\"Day\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Download csv\"})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","fileDownload","System","device","setdevice","interval","setinternval","number","setnumber","systemlist","setsystem","daylist","i","push","id","day","hourlist","hour","minutelist","minute","method","url","headers","then","res","data","console","log","handleChange","event","target","value","handleChange_02","handleChange_03","handleSubmit","text","params","catch","error","finally","map","system","name","time"],"sources":["/Users/waiwai/Desktop/Github/Einstein/testing/src/System.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport axios from 'axios'\nimport fileDownload from 'js-file-download'\n\nexport default function System() {\n\n\nconst [device,setdevice] = useState('0')\nconst [interval,setinternval] = useState('N/A')\nconst [number,setnumber] = useState('0')\nconst [systemlist, setsystem] = useState([{}])\n\nconst daylist = []\nfor (let i = 1; i < 30; i++) {\n  daylist.push({\n      id: i,\n      day: i\n  });\n}\nconst hourlist = []\nfor (let i = 1; i < 24; i++) {\n  hourlist.push({\n      id: i,\n      hour: i\n  });\n}\nconst minutelist = []\nfor (let i = 1; i < 60; i++) {\n  minutelist.push({\n      id: i,\n      minute: i\n  });\n}\n\n\n\nuseEffect ( ()=>{\n    axios({ \n        method: 'get' , \n        url: ' https://f3bzwuya7a444klvzuesn2ihje0ipkjr.lambda-url.ap-east-1.on.aws/', \n        headers: {\"Content-Type\": \"application/json\"}\n        }) \n    .then((res) => {setsystem(res.data)})\n    console.log(systemlist)\n  },[])\n\nfunction handleChange(event){\n    setdevice(event.target.value)\n    console.log(event.target.value)\n}\nfunction handleChange_02(event){\n    setnumber(event.target.value)\n    console.log(event.target.value)\n}\nfunction handleChange_03(event){\n    setinternval(event.target.value)\n    console.log(event.target.value)\n}\nfunction handleSubmit(event){\n    let text = number + \" \" + interval\n\n    axios({ \n        method: 'get' , \n        url: ' https://coqaxw2nncra5xh6fmxhgsn4la0gnjbu.lambda-url.ap-east-1.on.aws/', \n        headers: {\"Content-Type\": \"application/json\"},\n        params: {\n            \"function_name\" : \"from_now\",\n            \"device_id\": device,\n            \"date_range\": text\n          }\n       }) \n    .then((res) => {fileDownload(res.data, 'testing.csv')})\n    .catch((error) => { console.error(error) })\n    .finally(() => { })\n}\n\n  return (\n    \n    <div>\n    Device ID <br/>\n    <select name=\"system\" id=\"selectList\" value={device} onChange={handleChange}>\n    {\n    systemlist.map(system =>(\n          <option key={system.id} value={system.id}>{system.name}</option>\n    ))}\n    </select> \n    <br/><br/>\n    Time from now <br/>\n{   interval == 'HOUR' &&\n    <div>\n    <select name=\"number\" id=\"selectList\" value={number} onChange={handleChange_02}>\n    { hourlist.map(time =>(\n          <option key={time.id} value={time.hour}>{time.hour}</option>\n    ))}\n    </select>\n    </div>\n}\n{   interval == 'MINUTE' &&\n    <div>\n    <select name=\"number\" id=\"selectList\" value={number} onChange={handleChange_02}>\n    { minutelist.map(time =>(\n          <option key={time.id} value={time.minute}>{time.minute}</option>\n    ))}\n    </select>\n    </div>\n}\n{   interval == 'DAY' &&\n    <div>\n    <select name=\"number\" id=\"selectList\" value={number} onChange={handleChange_02}>\n    { daylist.map(time =>(\n          <option key={time.id} value={time.day}>{time.day}</option>\n    ))}\n    </select>\n    </div>\n}\n    <select name=\"interval\" id=\"selectList\" value={interval} onChange={handleChange_03}>\n          <option value=\"MINUTE\">Minute</option>\n          <option value=\"HOUR\">Hour</option>\n          <option value=\"DAY\">Day</option>\n    </select>\n    <br/>\n    <br/>\n    <button onClick={handleSubmit}>Download csv</button> \n\n    </div>\n  )\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}